{% extends 'base.html.twig' %}

{% block title %}Statistiques du joueur {% endblock %}

{% block body %}
   <div class="statistique">
        {% if app.user %}
        <h1 class="mt-5 text-light text-center pb-3 m-5 border-bottom border-primary border-3 fs-1">Statistiques de {{ app.user.pseudo }}</h1>
            <h2 class="text-primary text-center fs-2 mx-5 my-3">Mes stats générales</h2>
            <div class="d-flex flex-column">
                <span class="text-light text-center mx-5 mb-2 fs-3"><span class="text-danger fs-3">{{ app.user.countTotalGames }}</span> matchs joués</span>
                <span class="text-light text-center mx-5 mb-2 fs-3"><span class="text-danger fs-3">{{ app.user.countButsByPlayer }}</span> buts au total</span>
                <span class="text-danger border-top border-light text-center fs-3">{{ (app.user.countButsByPlayer /app.user.countTotalGames)|round(1, 'floor')}}  <span class="text-light">buts par match</span></span>

            </div>
            <ul class="list-group mt-4 row">
            {% for game in app.user.games %}
                <li class="list-group-item-dark text-black list-style-none py-3 px-2 fs-4 d-flex justify-content-center">
                <span class="me-4">{{ game.dateGame }}</span>
                {% for game in game.statistiques %}
                   <span>{% if game.resultat == 'V' %}
                    <i class="text-primary fas fa-circle"></i>
                    {% endif %}
                    {% if game.resultat == 'D' %}
                        <i class="text-danger fas fa-circle"></i>
                    {% endif %}
                    {% if game.resultat == 'N' %}
                        <i class="text-warning fas fa-circle"></i>
                    {% endif %}
                   </span>
                    <span class="mx-5 fs-5">{{ game.buts }} but{{ game.buts > 1 ? 's' : '' }}</span>
                    <span class="ms-5 fs-5">{{ game.passesDecisives }} PD</span>
                 </li>
                {% endfor %}
                </ul>
            {% endfor %}

              {% endif %}
   </div>
{% endblock %}

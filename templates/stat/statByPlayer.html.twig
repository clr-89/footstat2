{% extends 'base.html.twig' %}

{% block title %}Statistiques du joueur {% endblock %}

{% block body %}
   <div class="statistique overflow-hidden">
        {% if app.user %}
        <h1 class="mt-5 text-light text-center pb-3 m-5 border-bottom border-primary border-3 fs-1">Statistiques de {{ app.user.pseudo }}</h1>
            <h2 class="text-primary text-center fs-2 mx-5 my-3">Mes stats générales</h2>
            <div class="d-flex flex-column">
                <span class="text-light text-center mx-5 mb-2 fs-3"><span class="text-danger fs-3">{{ app.user.countTotalGames }}</span> match{{ app.user.countTotalGames > 1 ? 's' : '' }} joué{{ app.user.countTotalGames > 1 ? 's' : '' }}</span>
                <span class="text-light text-center mx-5 mb-2 fs-3"><span class="text-danger fs-3">{{ app.user.countButsByPlayer }}</span> but{{ app.user.countButsByPlayer > 1 ? 's' : '' }} au total</span>
                <span class="text-danger border-top border-light text-center fs-3">
                    {% if app.user.countTotalGames > 0 %}{{ (app.user.countButsByPlayer / app.user.countTotalGames)|round(1, 'floor')}}{% endif %}
                    <span class="text-light">but{{ (app.user.countButsByPlayer / app.user.countTotalGames)|round(1, 'floor') > 1 ? 's' : ''}} par match</span>
                </span>
            </div>
            <ul class="list-group mt-4 row">
            {% for game in app.user.games %}
                <li class="list-group-item-dark text-black list-style-none py-3 px-2 fs-4 d-flex justify-content-center">
                <span class="me-4">{{ game.dateGame }}</span>
                   <span>{% if app.user.showResultByGameByPlayer[loop.index-1] == 'V' %}
                    <i class="text-primary fas fa-circle"></i>
                    {% elseif app.user.showResultByGameByPlayer[loop.index-1] == 'D'%}
                        <i class="text-danger fas fa-circle"></i>
                    {% else %}
                        <i class="text-warning fas fa-circle"></i>
                    {% endif %}
                   </span>
                    <span class="ms-4">  {{ app.user.countButsByGameByPLayer[loop.index-1] }} but{{ app.user.countButsByGameByPLayer[loop.index-1] > 1 ? 's' : ''}}</span>
                    <span class="ms-4">{{app.user.countPassesDecisivesByGameByPlayer[loop.index-1] }} PD</span>
                 </li>
            {% endfor %}
            </ul>
              {% endif %}
   </div>
{% endblock %}
